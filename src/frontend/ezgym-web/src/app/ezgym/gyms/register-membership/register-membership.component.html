<div class="center">
    <section class="header">
        <button (click)="close()" class="header-btn">Voltar</button>
    </section>
    <section class="register-header">
        <img src="assets/img/fill-forms.svg">
        <h3>
            Matricular-se
        </h3>
    </section>

    <section class="register-step">
        <mat-horizontal-stepper [linear]="false" #stepper="matHorizontalStepper">
            <mat-step [stepControl]="planFormGroup">
                <form [formGroup]="planFormGroup">
                    <ng-template matStepLabel>
                        Plano
                    </ng-template>

                    <h5 class="step-header">
                        Selecione um plano
                    </h5>

                    <blockquote *ngIf="!state.plans.length" class="blockquote">
                        <p class="mb-0">Essa academia ainda nao possui nenhum plano disponivel, tenta novamente mais tarde</p>
                    </blockquote>
                    <section class="plan-options">
                        <div *ngFor="let plan of state.plans" (click)="planSelected(plan.value.id)" [ngClass]="{'selected': plan.selected }" class="option">
                            <div class="icon">
                                <i class="material-icons">radio_button_checked</i>
                            </div>
                            <div class="plan-description">
                                <h5>
                                    Valor R$ {{plan.value.price}}
                                </h5>
                                <small class="text-muted">
                                    Valido por {{plan.value.days}} dias
                                </small>

                            </div>
                        </div>
                    </section>

                    <section *ngIf="state.plans.length"  class="register-btn">
                        <button [disabled]="!state.ui?.planSelected" mat-button matStepperNext>Continuar</button>
                    </section>
                </form>
            </mat-step>
            <mat-step>
                <form>
                    <ng-template matStepLabel>Pagamento</ng-template>

                    <h5 class="step-header">
                        Forma de pagamento
                    </h5>
                    <section class="plan-options">
                        <div class="option ">
                            <div class="icon">
                                <i class="material-icons">radio_button_unchecked</i>
                            </div>
                            <div class="plan-description">
                                <h5>
                                    PIX
                                </h5>
                                <small class="text-muted">
                                    Pagamento instantaneo
                                </small>

                            </div>
                        </div>
                    </section>
                    <section class="register-btn">
                        <button mat-button matStepperNext>Continuar</button>
                        <button class="btn-back" mat-button matStepperPrevious>Voltar</button>
                    </section>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel>Finalizar</ng-template>
                <h5 class="step-header">
                    Obrigado :)
                </h5>
                <section class="register-btn">
                    <button mat-button matStepperNext>Finalizar</button>
                    <button class="btn-back" mat-button matStepperPrevious>Voltar</button>
                </section>
            </mat-step>
        </mat-horizontal-stepper>
    </section>
</div>